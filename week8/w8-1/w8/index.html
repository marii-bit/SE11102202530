<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 8 | Homework Assignment</title>
</head>
<body>

    <h1>List Of People</h1>
	<p>Please fill in the form and click the submit button.</p>
	<div>
		<table>
			<tr>
				<td><label for="first">First Name</label></td>
				<td><input id="first" type="text" name="first" placeholder="Ivan"></td>
			</tr>
			<tr>
				<td><label for="last">Last Name</label></td>
				<td><input id="last" type="text" name="last" placeholder="Drago"></td>
			</tr>
			<tr>
				<td></td>
				<td><input id="button" type="button" value="submit"></td>
			</tr>
		</table>
	</div>

	<div id="output"></div>

	<!--The script tag should go after the HMTL, but inside of the body.-->
	<!--JavaScript cannot find tags, if they are not parsed before the script runs-->
    <script>
    var firstInput = document.getElementById("first");
    var lastInput = document.getElementById("last");
    var button = document.getElementById("button");
    var outputDiv = document.getElementById("output");

    var people = [];

    button.addEventListener("click", calcAndDisplay);

    function calcAndDisplay() {
        var person = {
            first: firstInput.value.trim(),
            last: lastInput.value.trim()
        };

        people.push(person);

        // Bubble sort based on last name
        for (let i = 0; i < people.length - 1; i++) {
            for (let j = 0; j < people.length - 1; j++) {
                if (people[j].last.toLowerCase() > people[j + 1].last.toLowerCase()) {
                    let temp = people[j];
                    people[j] = people[j + 1];
                    people[j + 1] = temp;
                }
            }
        }

        var output = "";

        for (let i = 0; i < people.length; i++) {
            for (let key in people[i]) {
                output += key.toUpperCase() + ": " + people[i][key] + "<br>";
            }
            output += "<hr>";
        }

        outputDiv.innerHTML = output;

        // Clear inputs
        firstInput.value = "";
        lastInput.value = "";
    }
</script>
    
</body>
</html>
